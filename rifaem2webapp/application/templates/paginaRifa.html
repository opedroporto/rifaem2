{% for rifa in rifas %}
	<div class="rifa {{ 'rifaDesabilitada' if data_encerrada(rifa.dataEncerramento) }}" data-id="{{ rifa.id }}">	
			<button type="button" class="lblSub" onclick="modalfOpen(this)">Concluir</button>
			
			<div class="descOutline">
				<h2 class="preco">R$ {{ rifa.precoNumero }}</h3>
				{% if not data_encerrada(rifa.dataEncerramento) %}
					<h1 class="nomeRifa">{{ rifa.nome }}</h1>
				{% else %}
					<h1 class="nomeRifa"><span style="text-decoration: line-through;">{{ rifa.nome }}</span> (ENCERRADA)</h1>
				{% endif %}
				<div class="imgDiv">
					<hr>
					<img src="{{ rifa.imagem }}" alt="Imagem da rifa" draggable="false">
					<i class="fa-solid fa-chevron-right" onclick="slideDescription(this)"></i><hr class="last">
				
					<div class="descInfo">
						<input class="inputDescH" type="hidden" value="Autor: {{ rifa.autor }}">
						<i class="fa-solid fa-hand-pointer"></i>
						<!--<h4>Data de lançamento: {{ formata_data(rifa.dataLancamento) }}</h4>-->
					</div>
				</div>
				<h4>Data de Encerramento: {{ formata_data(rifa.dataEncerramento, hora=True) }}</h4>
			</div>
			
			{# define variável numeros #}
			{% set numeros = rifa.numeros %}

			{# renderiza números #}

			<form class="rifaGrid">
				<div class="expandRifa">
					<h2 onclick="expandir(this)">Clique para expandir rifa</h2>
					<i class="fa-solid fa-chevron-down" onclick="expandir(this)"></i>
				</div>
				{% set numeroEspecial = {} %}
						
				{# define se há número especial #}
				

				{% for j in range(1, (rifa.numeroMaximo + 1)) %}
					{% set numeroEspecial = {} %}		
					{% for numero in numeros %}
						{% if numero.numeroRifa == j %}
							{% set numeroEspecial = numeroEspecial.update(numero) %}
						{% endif %}
					{% endfor %}

					{# renderiza número #}
					{% if numeroEspecial != {} %}
						<div class="tooltip">
							<span class="tooltips">
								<p> {{ numeroEspecial.status }} </p>
							</span>
							<input class="numero" style="background-color: {{ rifa.cor }};{{ 'filter: grayscale(1);' if data_encerrada(rifa.dataEncerramento) }}" type="button" data-state="{{ numeroEspecial.status }}" data-nome="{{ numeroEspecial.nome }}" value="{{ j }}">
						</div>
					{% else %}
						<div class="tooltip">
							<span class="tooltips">
								<p> disponível </p>
							</span>
							<input class="numero" style="background-color: {{ rifa.cor }};{{ 'filter: grayscale(1);' if data_encerrada(rifa.dataEncerramento) }}" type="button" data-state="{{ numeroEspecial.status }}" type="button" data-state="free" onclick="modalcOpen(this)" value="{{ j }}">
						</div>
					{% endif %}
				{% endfor %}
				<!--input type="button" name="btnConc" id="btnConc" onclick="modalfOpen()" disabled="true"-->
			</form>
	</div>
{% endfor %}
